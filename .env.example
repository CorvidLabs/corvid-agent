# =============================================================================
# CorvidAgent Environment Configuration
# Copy to .env and fill in your values:  cp .env.example .env
# =============================================================================

# --- Algorand / AlgoChat ---------------------------------------------------
# 25-word Algorand mnemonic for the agent's wallet
ALGOCHAT_MNEMONIC=word1 word2 word3 ... word25
# Network: localnet | testnet | mainnet (localnet recommended — persisted via Docker)
ALGORAND_NETWORK=localnet
# Network for agent sub-wallets (defaults to localnet if unset)
# AGENT_NETWORK=localnet
# Polling interval for new AlgoChat messages (ms, default: 30000)
# ALGOCHAT_SYNC_INTERVAL=30000
# Default agent profile ID (UUID). Leave blank to auto-create on first run.
# ALGOCHAT_DEFAULT_AGENT_ID=
# Pre-shared key URI for AlgoChat encryption
# ALGOCHAT_PSK_URI=algochat-psk://v1?addr=...&psk=...
# Comma-separated Algorand addresses authorized as owner (for admin commands)
# ALGOCHAT_OWNER_ADDRESSES=

# --- AI Provider -----------------------------------------------------------
# ANTHROPIC_API_KEY=sk-ant-...

# --- Server (all optional, sensible defaults) ------------------------------
# PORT=3000
# Bind address — 127.0.0.1 = localhost only (safe default).
# ⚠️  Only set to 0.0.0.0 for Docker/VM deployments — requires API_KEY!
BIND_HOST=127.0.0.1
# API key for HTTP/WS authentication. Required when BIND_HOST is not localhost.
# API_KEY=
# Comma-separated allowed CORS origins (default: * on localhost)
# ALLOWED_ORIGINS=https://yourdomain.com
# LOG_LEVEL=info
# LOG_FORMAT=text

# --- Directory Browsing Security -------------------------------------------
# Comma-separated list of additional directories the /api/browse-dirs endpoint
# may serve. By default, only the user's home directory and registered project
# working directories are allowed. Use this to grant access to extra roots
# (e.g. shared mounts or CI workspaces).
# ALLOWED_BROWSE_ROOTS=/opt/projects,/mnt/shared

# --- Wallet Security -------------------------------------------------------
# AES-256 encryption key for agent sub-wallets at rest.
# Defaults to a key derived from ALGOCHAT_MNEMONIC on localnet.
# WALLET_ENCRYPTION_KEY=

# --- Spending Limits (protects your wallet from runaway agents) ------------
# Daily ALGO spending cap in microALGOs (default: 10000000 = 10 ALGO)
# DAILY_ALGO_LIMIT_MICRO=10000000

# --- Rate Limiting ---------------------------------------------------------
# Per-IP sliding-window rate limits (requests per minute)
# RATE_LIMIT_GET=240
# RATE_LIMIT_MUTATION=60

# --- Agent Sessions --------------------------------------------------------
# Agent session timeout in ms (default: 1800000 = 30 min)
# AGENT_TIMEOUT_MS=1800000

# --- Work Tasks (self-improvement workflow) --------------------------------
# Base directory for git worktrees (default: sibling .corvid-worktrees dir)
# WORKTREE_BASE_DIR=
# Max validation iterations before marking a task as failed (default: 3)
# WORK_MAX_ITERATIONS=3

# --- Ollama (local LLM provider) -------------------------------------------
# Host URL for Ollama API (default: http://localhost:11434)
# OLLAMA_HOST=http://localhost:11434
# Max concurrent Ollama requests (default: 1). Ollama 0.15 returns 500 on
# concurrent tool-call requests, so serial (1) is the reliable default.
# OLLAMA_MAX_PARALLEL=1
# Context window size per request (default: 16384). Council review/synthesis
# prompts aggregate multiple responses and need more context than simple chats.
# OLLAMA_NUM_CTX=16384

# --- GitHub (for work tasks) -----------------------------------------------
# GH_TOKEN=ghp_...
